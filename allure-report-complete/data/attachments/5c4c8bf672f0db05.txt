Error creating Chrome driver: [Errno 8] Exec format error: '/Users/shtlpmac015/.wdm/drivers/chromedriver/mac64/139.0.7258.154/chromedriver-mac-arm64/THIRD_PARTY_NOTICES.chromedriver'
Attempting to use system ChromeDriver...
Starting test: test_financial_expense_calculation_validation
Test data loaded from: /Users/shtlpmac015/Desktop/Jump-UI-Automation/utils/../test_data/test_data.json
Credentials loaded from config file: /Users/shtlpmac015/Desktop/Jump-UI-Automation/utils/../config/config.yaml
Using credentials from config file for: valid_user
Button state validation passed
Locator not found: login_page.invalid_credentials - 'invalid_credentials'
Locator not found: login_page.fields_required - 'fields_required'
Login successful - redirected to OTP page
Starting OTP verification with code: 99999
OTP page loaded successfully
Entering OTP code: 99999
OTP entered successfully: 99999
Clicking verify button
Verify button clicked successfully
OTP verification process completed
Attempting to click card 2 with interception handling
Handling potential intercepting elements...
Found intercepting element: //div[contains(@class, 'overlay')]
Found intercepting element: //div[contains(@class, 'overlay')]
Found intercepting element: //div[contains(@class, 'overlay')]
Found intercepting element: //div[contains(@class, 'overlay')]
Found intercepting element: //div[contains(@class, 'overlay')]
Found intercepting element: //div[contains(@class, 'overlay')]
Intercepting elements handled
Found card 2 using original locator
Positioning card 2 for click...
Trying enhanced ActionChains for card 2...
Successfully clicked card 2 (enhanced ActionChains)
Checking if valuations page is loaded
Valuations page loaded successfully - search field found
Starting complete valuation workflow with financials for: acura of remsey
Performing new valuation workflow with dealer: acura of remsey
Clicking 'New Valuation' button
Successfully clicked 'New Valuation' button
Clicking dealer select dropdown
Handling potential intercepting elements...
Found intercepting element: //input[@id='home_screen_new_val_uation']
Found intercepting element: //div[@class='ant-modal-content']
Found intercepting element: //div[@class='ant-modal-wrap']
Intercepting elements handled
Positioning element for click...
Trying enhanced ActionChains method...
Successfully clicked dealer select dropdown (enhanced ActionChains)
Entering dealer name: acura of remsey
Attempting to enter text in span element
Successfully entered dealer name: acura of remsey (direct input method)
Selecting first option from dropdown
Waiting for dropdown options to appear...
Trying locator: xpath='//div[contains(@class, 'rc-select-item')]'
No options found using xpath='//div[contains(@class, 'rc-select-item')]'
Trying locator: xpath='//div[contains(@class, 'ant-select-item')]'
Found 2 options using xpath='//div[contains(@class, 'ant-select-item')]'
Selecting first option with text: 'ACURA OF RAMSEY-Acura-Ramsey-New Jersey'
Successfully clicked first option (direct click)
Validating buttons and creating valuation
Validating default button is clickable
Default button is clickable
✓ Default button is clickable - validation passed
Clicking create valuation button
Handling potential intercepting elements for create button...
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[@class='ant-table-column-sorters']
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'ant-table')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Found intercepting element: //div[contains(@class, 'sorter')]
Intercepting elements for create button handled
Positioning create button for click...
Trying enhanced ActionChains for create button...
Successfully clicked create valuation button (enhanced ActionChains)
✓ Create valuation button clicked successfully
Complete new valuation workflow finished successfully with dealer: acura of remsey
✓ Dealer selection and valuation creation completed
Waiting for valuation page to load completely...
No loading spinner found or already disappeared
Valuation steps container not found, continuing...
Page load wait completed
✓ Valuation page loaded successfully
Step 7: Attempting to click radius tab...
Clicking radius tab (step icon) with optimized detection
Trying priority selector 1: //span[contains(@class, 'anticon')]
Attempting to click element 1 (visible)
Successfully clicked radius tab (direct click)
✓ Radius tab clicked successfully
Validating radius tab page load
Radius tab page load validation failed - no expected elements found
⚠ Radius tab page load validation failed, but continuing...
Step 8: Attempting to click financials tab...
Clicking financials tab with optimized detection
Trying selector 1: //div[3]//div[1]//div[2]
Trying selector 2: //div[contains(text(), 'Financial') or contains(text(), 'financial')]
Trying selector 3: //span[contains(text(), 'Financial') or contains(text(), 'financial')]
Trying selector 4: //*[contains(@class, 'tab') and (contains(text(), 'Financial') or contains(text(), 'financial'))]
Priority selectors failed, financials tab click unsuccessful
⚠ Failed to click financials tab, but continuing with workflow...
Step 9: Attempting to click TimeFrame radio button...
Clicking TimeFrame radio button
Error clicking TimeFrame radio button: Message: 
Stacktrace:
0   chromedriver                        0x000000010268ee00 cxxbridge1$str$ptr + 2742224
1   chromedriver                        0x0000000102686d00 cxxbridge1$str$ptr + 2709200
2   chromedriver                        0x00000001021d10b8 cxxbridge1$string$len + 90520
3   chromedriver                        0x00000001022185d8 cxxbridge1$string$len + 382648
4   chromedriver                        0x0000000102259980 cxxbridge1$string$len + 649824
5   chromedriver                        0x000000010220c8f4 cxxbridge1$string$len + 334292
6   chromedriver                        0x0000000102652478 cxxbridge1$str$ptr + 2494024
7   chromedriver                        0x00000001026556a4 cxxbridge1$str$ptr + 2506868
8   chromedriver                        0x00000001026333b0 cxxbridge1$str$ptr + 2366848
9   chromedriver                        0x0000000102655f4c cxxbridge1$str$ptr + 2509084
10  chromedriver                        0x00000001026244a8 cxxbridge1$str$ptr + 2305656
11  chromedriver                        0x0000000102675644 cxxbridge1$str$ptr + 2637844
12  chromedriver                        0x00000001026757d0 cxxbridge1$str$ptr + 2638240
13  chromedriver                        0x000000010268694c cxxbridge1$str$ptr + 2708252
14  libsystem_pthread.dylib             0x000000019e30c2e4 _pthread_start + 136
15  libsystem_pthread.dylib             0x000000019e3070fc thread_start + 8

⚠ Failed to click TimeFrame radio button, but continuing...
Step 10: Validating financials section and calculations using JavaScript...
Validating financial calculations for 2023 using JavaScript extraction
Extracting financial values for 2023 using JavaScript
Injecting jQuery into the page...
jQuery successfully injected
Successfully extracted financial data for 2023:
  Add Backs: $948,962.00
  Adjusted Profit: $5,693,772.00
  Expenses: $9,002,218.00
  Gross Profit: $10,662,902.00
  Net Additions: $3,084,126.00
  Net Profit: $4,744,810.00

================================================================================
FINANCIAL VALIDATION RESULTS FOR 2023 (JavaScript Extraction)
================================================================================

EXTRACTED VALUES:
  Gross Profit:       $10,662,902.00
  Net Profit:         $4,744,810.00
  Net Additions:      $3,084,126.00
  Actual Expenses:    $9,002,218.00
  Add Backs:          $948,962.00
  Actual Adj. Profit: $5,693,772.00

EXPENSE CALCULATION VALIDATION:
  Formula: Expenses = Gross Profit - Net Profit + Net Additions
  Calculated: $10,662,902.00 - $4,744,810.00 + $3,084,126.00 = $9,002,218.00
  Actual:     $9,002,218.00
  Difference: $0.00 (0.0000%)

ADJUSTED PROFIT CALCULATION VALIDATION:
  Formula: Adjusted Profit = Net Profit + Add Backs
  Calculated: $4,744,810.00 + $948,962.00 = $5,693,772.00
  Actual:     $5,693,772.00
  Difference: $0.00 (0.0000%)

VALIDATION RESULTS:
  Expenses Calculation:      PASSED
  Adjusted Profit Calculation: PASSED
  Overall Validation:        PASSED
================================================================================
✓ Financial calculations validated successfully using JavaScript
⚠ No radius data available for cross-validation
✓ Complete valuation workflow with financials, radius tab, and TimeFrame interaction finished successfully for: acura of remsey
Failure screenshot saved: screenshots/FAILED_expense_calculation_error_20250828_113241.png
Completed test: test_financial_expense_calculation_validation - PASSED
